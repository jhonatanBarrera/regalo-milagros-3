<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>¬°Feliz Cumplea√±os! üéÇ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            background: #000;
            font-family: Arial, sans-serif;
        }

        #container {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
            cursor: grab;
            touch-action: none;
        }

        #container:active {
            cursor: grabbing;
        }

        #space {
            position: absolute;
            width: 6000px;
            height: 6000px;
            background: #000;
            transform-origin: center center;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
        }

        /* SOL EN 3D */
        #sun-container {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            perspective: 1000px;
        }

        #sun {
            position: relative;
            width: 400px;
            height: 400px;
            transform-style: preserve-3d;
            animation: rotateSun 30s infinite linear;
        }

        @keyframes rotateSun {
            0% { transform: rotateY(-5deg) rotateX(-5deg); }
            25% { transform: rotateY(5deg) rotateX(-5deg); }
            50% { transform: rotateY(5deg) rotateX(5deg); }
            75% { transform: rotateY(-5deg) rotateX(5deg); }
            100% { transform: rotateY(-5deg) rotateX(-5deg); }
        }

        .sun-sphere {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, 
                #fff9c4 0%,
                #ffeb3b 15%,
                #ffc107 30%,
                #ff9800 50%,
                #ff5722 70%,
                #d84315 100%
            );
            box-shadow: 
                0 0 60px 20px rgba(255, 235, 59, 0.6),
                0 0 100px 40px rgba(255, 152, 0, 0.4),
                0 0 140px 60px rgba(255, 87, 34, 0.2),
                inset -30px -30px 60px rgba(0, 0, 0, 0.3),
                inset 30px 30px 60px rgba(255, 255, 255, 0.2);
            overflow: hidden;
        }

        .sun-image {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            opacity: 1;
            position: relative;
            z-index: 2;
        }

        /* Capas de profundidad del sol */
        .sun-glow {
            position: absolute;
            width: 120%;
            height: 120%;
            left: -10%;
            top: -10%;
            border-radius: 50%;
            background: radial-gradient(circle, 
                rgba(255, 235, 59, 0.4) 0%,
                rgba(255, 152, 0, 0.2) 40%,
                transparent 70%
            );
            animation: pulse 4s infinite ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { 
                transform: scale(1);
                opacity: 0.6;
            }
            50% { 
                transform: scale(1.1);
                opacity: 1;
            }
        }

        .sun-corona {
            position: absolute;
            width: 140%;
            height: 140%;
            left: -20%;
            top: -20%;
            border-radius: 50%;
            background: radial-gradient(circle,
                transparent 60%,
                rgba(255, 193, 7, 0.3) 70%,
                rgba(255, 152, 0, 0.2) 80%,
                transparent 100%
            );
            animation: coronaPulse 6s infinite ease-in-out;
        }

        @keyframes coronaPulse {
            0%, 100% { 
                transform: scale(1) rotate(0deg);
                opacity: 0.5;
            }
            50% { 
                transform: scale(1.15) rotate(180deg);
                opacity: 0.8;
            }
        }

        /* Llamaradas solares */
        .solar-flare {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at var(--x) var(--y),
                rgba(255, 235, 59, 0.8) 0%,
                rgba(255, 152, 0, 0.4) 30%,
                transparent 60%
            );
            animation: flare 8s infinite ease-in-out;
            opacity: 0;
        }

        .solar-flare:nth-child(1) { --x: 20%; --y: 30%; animation-delay: 0s; }
        .solar-flare:nth-child(2) { --x: 70%; --y: 20%; animation-delay: 2s; }
        .solar-flare:nth-child(3) { --x: 50%; --y: 80%; animation-delay: 4s; }
        .solar-flare:nth-child(4) { --x: 80%; --y: 60%; animation-delay: 6s; }

        @keyframes flare {
            0%, 100% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }

        /* Textura de superficie solar */
        .sun-texture {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.3) 2%, transparent 4%),
                radial-gradient(circle at 75% 35%, rgba(255, 255, 255, 0.2) 3%, transparent 5%),
                radial-gradient(circle at 45% 65%, rgba(255, 255, 255, 0.25) 2.5%, transparent 4.5%),
                radial-gradient(circle at 65% 75%, rgba(255, 255, 255, 0.2) 3%, transparent 5%),
                radial-gradient(circle at 35% 85%, rgba(255, 255, 255, 0.3) 2%, transparent 4%);
            animation: textureMove 20s infinite linear;
        }

        @keyframes textureMove {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        #controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.4);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        #message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 215, 0, 0.9);
            color: #000;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 20px;
            font-weight: bold;
            z-index: 1000;
        }

        #instructions {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 1000;
            text-align: center;
        }

        @media (max-width: 768px) {
            #sun {
                width: 300px;
                height: 300px;
            }

            #controls {
                top: auto;
                bottom: 80px;
                right: 10px;
                flex-direction: row;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            #message {
                font-size: 16px;
                padding: 10px 20px;
            }
        }
    </style>
</head>
<body>
    <div id="message">¬°Feliz Cumplea√±os! üéâ‚ú®</div>
    
    <div id="container">
        <div id="space">
            <div id="sun-container">
                <div id="sun">
                    <div class="sun-corona"></div>
                    <div class="sun-glow"></div>
                    <div class="sun-sphere">
                        <div class="solar-flare"></div>
                        <div class="solar-flare"></div>
                        <div class="solar-flare"></div>
                        <div class="solar-flare"></div>
                        <div class="sun-texture"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="controls">
        <button class="btn" onclick="resetView()">üè† Centro</button>
        <button class="btn" onclick="zoomIn()">‚ûï Zoom</button>
        <button class="btn" onclick="zoomOut()">‚ûñ Zoom</button>
    </div>

    <div id="instructions">
        üì± Arrastra para moverte | ü§è Pellizca para zoom
    </div>

    <script>
        const space = document.getElementById('space');
        const container = document.getElementById('container');
        
        let scale = 1;
        let translateX = -2600;
        let translateY = -2600;
        let isDragging = false;
        let startX, startY;
        let lastDistance = 0;

        // Crear estrellas de fondo (fijas, sin parpadeo)
        for (let i = 0; i < 200; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            const size = Math.random() * 2 + 0.5;
            star.style.width = size + 'px';
            star.style.height = size + 'px';
            star.style.left = Math.random() * 6000 + 'px';
            star.style.top = Math.random() * 6000 + 'px';
            star.style.opacity = Math.random() * 0.5 + 0.3;
            space.appendChild(star);
        }

        // Cargar imagen del sol (foto1)
        const sunSphere = document.querySelector('.sun-sphere');
        const sunImg = document.createElement('img');
        sunImg.className = 'sun-image';
        sunImg.src = 'foto1.jpg';
        sunImg.onerror = function() {
            this.onerror = function() {
                this.onerror = null;
            };
            this.src = 'foto1.png';
        };
        sunImg.onload = function() {
            sunSphere.appendChild(sunImg);
        };

        function updateTransform() {
            space.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
        }

        function zoomIn() {
            scale = Math.min(scale * 1.2, 5);
            updateTransform();
        }

        function zoomOut() {
            scale = Math.max(scale / 1.2, 0.3);
            updateTransform();
        }

        function resetView() {
            scale = 1;
            translateX = -2600;
            translateY = -2600;
            updateTransform();
        }

        // Mouse events
        container.addEventListener('mousedown', (e) => {
            isDragging = true;
            startX = e.clientX - translateX;
            startY = e.clientY - translateY;
        });

        container.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            translateX = e.clientX - startX;
            translateY = e.clientY - startY;
            updateTransform();
        });

        container.addEventListener('mouseup', () => {
            isDragging = false;
        });

        container.addEventListener('mouseleave', () => {
            isDragging = false;
        });

        container.addEventListener('wheel', (e) => {
            e.preventDefault();
            const delta = e.deltaY > 0 ? 0.9 : 1.1;
            scale = Math.max(0.3, Math.min(5, scale * delta));
            updateTransform();
        });

        // Touch events
        container.addEventListener('touchstart', (e) => {
            if (e.touches.length === 1) {
                isDragging = true;
                startX = e.touches[0].clientX - translateX;
                startY = e.touches[0].clientY - translateY;
            } else if (e.touches.length === 2) {
                isDragging = false;
                const dx = e.touches[0].clientX - e.touches[1].clientX;
                const dy = e.touches[0].clientY - e.touches[1].clientY;
                lastDistance = Math.sqrt(dx * dx + dy * dy);
            }
        });

        container.addEventListener('touchmove', (e) => {
            e.preventDefault();
            
            if (e.touches.length === 1 && isDragging) {
                translateX = e.touches[0].clientX - startX;
                translateY = e.touches[0].clientY - startY;
                updateTransform();
            } else if (e.touches.length === 2) {
                const dx = e.touches[0].clientX - e.touches[1].clientX;
                const dy = e.touches[0].clientY - e.touches[1].clientY;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (lastDistance > 0) {
                    const delta = distance / lastDistance;
                    scale = Math.max(0.3, Math.min(5, scale * delta));
                    updateTransform();
                }
                
                lastDistance = distance;
            }
        });

        container.addEventListener('touchend', (e) => {
            if (e.touches.length < 2) {
                lastDistance = 0;
            }
            if (e.touches.length === 0) {
                isDragging = false;
            }
        });

        updateTransform();
    </script>
</body>
</html>